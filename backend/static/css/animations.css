/* === STARRY BACKGROUND === */
.starry-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -1;
    overflow: hidden;
}

.stars {
    position: absolute;
    width: 100%;
    height: 100%;
}

.star {
    position: absolute;
    background: white;
    border-radius: 50%;
    animation: twinkle 3s infinite;
}

.star.small { width: 1px; height: 1px; }
.star.medium { width: 2px; height: 2px; }
.star.large { width: 3px; height: 3px; }

@keyframes twinkle {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
}

/* === MESSAGE ANIMATIONS === */
@keyframes messageSlideIn {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* === TYPING INDICATOR === */
.typing-indicator {
    display: flex;
    gap: 4px;
    padding: 8px 0;
}

.typing-indicator span {
    width: 8px;
    height: 8px;
    background: rgba(255, 255, 255, 0.6);
    border-radius: 50%;
    /* animation is provided centrally (components.css or inline); avoid overriding here */
}

.typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
.typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

/* Replace with denser keyframes to approximate a sine wave */
@keyframes typing {
    0%    { transform: translateY(0);     opacity: 0.78; }
    12.5% { transform: translateY(-4.83px); opacity: 0.92; }
    25%   { transform: translateY(-7.07px); opacity: 1; }
    37.5% { transform: translateY(-7.84px); opacity: 0.98; }
    50%   { transform: translateY(-8px);   opacity: 0.95; }
    62.5% { transform: translateY(-7.84px); opacity: 0.92; }
    75%   { transform: translateY(-7.07px); opacity: 0.88; }
    87.5% { transform: translateY(-4.83px); opacity: 0.82; }
    100%  { transform: translateY(0);     opacity: 0.78; }
}

/* === GLOW EFFECTS === */
.chat-container.glow-green {
    box-shadow: 0 0 20px #22c55e, 0 0 40px #16a34a;
    border: 2px solid #22c55e;
    animation: glowFade 8s ease-out forwards;
}

.chat-container.glow-yellow {
    box-shadow: 0 0 20px #eab308, 0 0 40px #ca8a04;
    border: 2px solid #eab308;
    animation: glowFade 8s ease-out forwards;
}

.chat-container.glow-red {
    box-shadow: 0 0 20px #ef4444, 0 0 40px #b91c1c;
    border: 2px solid #ef4444;
    animation: glowFade 8s ease-out forwards;
}

@keyframes glowFade {
    0% { opacity: 1; }
    100% { opacity: 0; }
}

/* Hide global starry background in light mode */
body.light-mode .starry-background { display: none !important; }

